{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;kBAMwB,SAAS;;;;;;;;AAFjC,MAAM,MAAM,GAAG,iBAHN,aAAa,CAGW,YAAY,CAAC,CAAC;;AAEhC,SAAS,SAAS,OAAiC;QAA9B,IAAI,QAAJ,IAAI;QAAE,WAAW,QAAX,WAAW;QAAE,OAAO,QAAP,OAAO;;AAC1D,WAAO,AAAC,GAAG,IAAK;AACZ,WAAG,CAAC,OAAO,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE,IAAI,EAAE;AACvC,kBAAM,CAAC,KAAK,CAAC,aAAa,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;;AAE3D,gBAAI,CAAC,IAAI,EAAE;AACP,sBAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;aACxD;;AAED,kBAAM,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC;SAC3B,CAAC;;AAEF,cAAM,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC;AAAC,AAC3C,YAAI,QAAQ,CAAC,UAAU,KAAK,UAAU,EAAE;AACpC,kBAAM,CAAC,KAAK,CAAC,kDAAkD,CAAC,CAAC;AACjE,sBAnBH,MAAM,EAmBI;AACH,uBAAO;AACP,yBAAS,EAAE,IAAI;AACf,oBAAI,EAAE,WAAW;AACjB,uBAAO;aACV,CAAC,CAAC;SACN,MAAM;AACH,kBAAM,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;AACvC,qBAAS,CAAC,EAAE,CAAC,kBAAkB,EAAE,MAAM;AACnC,sBAAM,CAAC,KAAK,CAAC,0CAA0C,CAAC,CAAC;AACzD,0BA7BP,MAAM,EA6BQ;AACH,2BAAO;AACP,6BAAS,EAAE,IAAI;AACf,wBAAI,EAAE,WAAW;AACjB,2BAAO;iBACV,CAAC,CAAC;aACN,CAAC,CAAC;SACN;KACJ,CAAC;CACL","file":"index.js","sourcesContent":["/* global $document */\nimport { ConsoleLogger } from 'nightingale';\nimport { render } from 'fody';\n\nconst logger = new ConsoleLogger('ibex.react');\n\nexport default function ibexReact({ View, initialData, element }) {\n    return (app) => {\n        app.context.render = function (View, data) {\n            logger.debug('render view', { viewName: View.name, data });\n\n            if (!View) {\n                throw new Error('View is undefined, class expected');\n            }\n\n            throw new Error('TODO');\n        };\n\n        const context = Object.create(app.context); // initial context.\n        if (document.readyState === 'complete') {\n            logger.debug('load react components, document is already ready');\n            render({\n                context,\n                Component: View,\n                data: initialData,\n                element,\n            });\n        } else {\n            logger.debug('waiting document ready');\n            $document.on('DOMContentLoaded', () => {\n                logger.debug('load react components, document is ready');\n                render({\n                    context,\n                    Component: View,\n                    data: initialData,\n                    element,\n                });\n            });\n        }\n    };\n}\n"]}